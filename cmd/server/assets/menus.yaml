# HR Module Menu Definitions
# This file defines the menu structure for the HR module
# Used by admin service for dynamic menu registration

module:
  id: hr
  name: Human Resources
  description: HR / Vacation Planning

menus:
  - id: hr
    parent_id: null
    type: CATALOG
    name: Human Resources
    path: /hr
    icon: lucide:calendar-heart
    order: 500
    authority:
      - platform:admin
      - tenant:manager

  - id: hr-calendar
    parent_id: hr
    type: MENU
    name: Calendar
    path: calendar
    component: app/hr/calendar/index.vue
    icon: lucide:calendar-days
    order: 1
    authority:
      - platform:admin
      - tenant:manager

  - id: hr-requests
    parent_id: hr
    type: MENU
    name: Leave Requests
    path: request
    component: app/hr/request/index.vue
    icon: lucide:file-clock
    order: 2
    authority:
      - platform:admin
      - tenant:manager

  - id: hr-allowances
    parent_id: hr
    type: MENU
    name: Leave Allowances
    path: allowance
    component: app/hr/allowance/index.vue
    icon: lucide:calculator
    order: 3
    authority:
      - platform:admin
      - tenant:manager

  - id: hr-absence-types
    parent_id: hr
    type: MENU
    name: Absence Types
    path: absence-type
    component: app/hr/absence-type/index.vue
    icon: lucide:list-checks
    order: 4
    authority:
      - platform:admin
      - tenant:manager

dashboard_widgets:
  - id: hr.pending_requests
    name: Pending Requests
    description: Leave requests awaiting approval
    icon: lucide:file-clock
    widget_type: stat_card
    data_source:
      endpoint: /admin/v1/modules/hr/v1/stats
      method: GET
    data_mapping:
      value_path: pendingRequests
      total_path: totalRequests
      label: Pending Requests
    default_size:
      width: 3
      height: 1
    tags: [hr, overview]
    authority: [platform:admin, tenant:manager]

permission_groups:
  - name: Human Resources
    module: hr
    description: HR / Vacation Planning Permissions
    permissions:
      - name: View Calendar
        code: hr.calendar.view
        description: View team absence calendar
      - name: View Leave Requests
        code: hr.request.view
        description: View leave request details and list
      - name: Manage Leave Requests
        code: hr.request.manage
        description: Create, update, and delete leave requests
      - name: Approve Leave Requests
        code: hr.request.approve
        description: Approve or reject leave requests
      - name: View Absence Types
        code: hr.absence_type.view
        description: View absence type details and list
      - name: Manage Absence Types
        code: hr.absence_type.manage
        description: Create, update, and delete absence types
      - name: View Allowances
        code: hr.allowance.view
        description: View leave allowances
      - name: Manage Allowances
        code: hr.allowance.manage
        description: Create, update, and delete leave allowances

roles:
  - name: HR Administrator
    code: hr.admin
    description: Full access to HR module including approvals
    is_system: true
    permissions:
      - hr.calendar.view
      - hr.request.view
      - hr.request.manage
      - hr.request.approve
      - hr.absence_type.view
      - hr.absence_type.manage
      - hr.allowance.view
      - hr.allowance.manage

  - name: HR Employee
    code: hr.employee
    description: Can view calendar and submit own leave requests
    is_system: true
    permissions:
      - hr.calendar.view
      - hr.request.view
      - hr.request.manage
      - hr.allowance.view

  - name: HR Viewer
    code: hr.viewer
    description: Read-only access to HR module
    is_system: true
    permissions:
      - hr.calendar.view
      - hr.request.view
      - hr.absence_type.view
      - hr.allowance.view
